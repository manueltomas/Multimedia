{"version":3,"sources":["webpack:///src/app/popup/popup/popup.service.ts","webpack:///src/app/popup/settings-model-popup/settings-model-popup.component.ts","webpack:///src/app/popup/settings-model-popup/settings-model-popup.component.html","webpack:///src/app/main-menu/main-menu.component.ts","webpack:///src/app/main-menu/main-menu.component.html","webpack:///src/app/mock-animals.ts","webpack:///src/environments/environment.ts","webpack:///src/app/animal-list/animal-list.component.html","webpack:///src/app/animal-list/animal-list.component.ts","webpack:///src/app/world.service.ts","webpack:///src/app/volume.service.ts","webpack:///src/app/animation/animation.component.html","webpack:///src/app/animation/animation.component.ts","webpack:///src/app/mock-worlds.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/animal.service.ts","webpack:///src/app/animal-info/animal-info.component.ts","webpack:///src/app/animal-info/animal-info.component.html","webpack:///src/app/services/shared-service.service.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/popup/popup/popup.component.ts","webpack:///src/app/popup/popup/popup.component.html","webpack:///src/app/animal-info.service.ts","webpack:///src/app/worlds/worlds.component.html","webpack:///src/app/worlds/worlds.component.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["PopupService","modals","modal","push","id","filter","x","find","open","close","SettingsModelPopupComponent","popupServices","worldService","element","document","getElementsByClassName","checked","animalListPosition","toogleAnimalListPosition","closePopup","MainMenuComponent","animalService","router","_sharedService","showAnimalList","changeWorld","refresh","navigate","start","openSettings","ANIMALS","name","description","imageUrl","catched","world","page","y","link","environment","production","AnimalListComponent","animalInfoService","volumeService","showWorld","animalListPos","mirrorListRight","animal","classList","remove","add","event","updateButtonSelected","target","showAll","selectedButton","Array","from","forEach","contains","parentElement","a","changeAnimal","container","getElementById","header","main","footer","bar","showLocalAnimals","showAllAnimals","WorldService","worldNumber","animationNumber","_animalListPosition","animalListPositionChange$","animalListPosition$","asObservable","val","console","log","next","result","i","length","VolumeService","volume","AnimationComponent","rodandoDireita","rodandoEsquerda","changing","animalsInPage","getWorldById","undefined","pair","audio","audio2","onTop","offsets","getBoundingClientRect","top","left","current","changeVideo","aux","window","onmousemove","e","clientX","clientY","clientWidth","clientHeight","resetAudio","animalx","animaly","distance","Math","abs","playAudio","mudaVolume","pausa","pause","Audio","paused","src","loop","load","play","sourceAux","source","videoAux","video","aux2","last","url","onended","setCatched","previous","changeAnimation","currentTime","getAnimalForPage","time","duration","x1","y1","x2","y2","sqrt","pow","timeUpdate","onClickVideo","WORLDS","AppComponent","worldServise","title","mainContainerStyle","image","video1","video2","changeEmitted$","subscribe","value","toogle","setTimeout","startVideo1","startVideo2","videoElem","AppModule","AnimalService","animalsToShow","local","an","map","getAnimal","AnimalInfoComponent","_location","http","language","currAnimal","parser","showVideoEmbededSubs","addBackgroundPhoto","get","responseType","data","fromSrt","style","display","hideOurSubtitlesOptions","subs","en","pt","img","back","end","subtitles","stringToSeconds","startTime","endTime","text","string","auxString","split","nameAux","charAt","toUpperCase","closeInfoPage","changedLang","SharedService","emitChangeSource","b","routes","path","component","AppRoutingModule","forRoot","PopupComponent","modalService","el","nativeElement","error","body","appendChild","addEventListener","className","AnimalInfoService","WorldsComponent","entering","bootstrapModule","err","webpackEmptyAsyncContext","req","Promise","resolve","then","Error","code","keys","module","exports"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PopupService {\n  private modals: any[] = [];\n\n    add(modal: any) {\n        // add modal to array of active modals\n        this.modals.push(modal);\n    }\n\n    remove(id: string) {\n        // remove modal from array of active modals\n        this.modals = this.modals.filter(x => x.id !== id);\n    }\n\n    open(id: string) {\n        // open modal specified by id\n        const modal = this.modals.find(x => x.id === id);\n        modal.open();\n    }\n\n    close(id: string) {\n        // close modal specified by id\n        const modal = this.modals.find(x => x.id === id);\n        modal.close();\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { WorldService } from 'src/app/world.service';\nimport { PopupService } from '../popup/popup.service';\n\n@Component({\n  selector: 'app-settings-model-popup',\n  templateUrl: './settings-model-popup.component.html',\n  styleUrls: ['./settings-model-popup.component.css']\n})\nexport class SettingsModelPopupComponent implements OnInit {\n\n  @Input() id;\n\n  constructor( private popupServices: PopupService,\n               private worldService: WorldService) { }\n\n  ngOnInit(): void {\n  }\n\n  closePopup(){\n    this.popupServices.close(this.id);\n  }\n\n  toogleAnimalListPosition(){\n    var element = <HTMLInputElement> document.getElementsByClassName(\"toogleAnimalListPosition\")[0];\n\n    if(element.checked){\n      this.worldService.animalListPosition = \"right\";\n    } else{\n      this.worldService.animalListPosition = \"left\";\n    }\n  }\n}\n","<div class=\"container\">\n    <div class=\"title\">\n        <h3>Settings</h3>\n    </div>\n    <div class=\"options\">\n        <ul>\n            <li class=\"option\">\n                <p class=\"setting-text\">Set animal list window on the right</p>\n                <label class=\"switch setting-text-button\">\n                    <input (click)=\"toogleAnimalListPosition()\" class=\"toogleAnimalListPosition\" type=\"checkbox\">\n                    <span class=\"slider round\"></span>\n                  </label>\n            </li>\n        </ul>\n    </div>\n    <footer>\n        <button (click)=\"closePopup()\" class=\"btn\">Close</button>\n    </footer>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AnimalService } from '../animal.service';\nimport { SharedService } from '../services/shared-service.service';\nimport { WorldService } from '../world.service';\nimport { PopupService } from '../popup/popup/popup.service';\n@Component({\n  selector: 'app-main-menu',\n  templateUrl: './main-menu.component.html',\n  styleUrls: ['./main-menu.component.css']\n})\nexport class MainMenuComponent implements OnInit {\n\n  constructor(\n\tprivate worldService : WorldService,\n\tprivate animalService : AnimalService,\n\tprivate router : Router,\n  private _sharedService: SharedService,\n  private  popupServices: PopupService){\n    this._sharedService.showAnimalList(false);\n  }\n\n  ngOnInit(): void {\n\t  this.worldService.changeWorld(0)\n\t  this.animalService.refresh();\n  }\n  \n  start(){\n    this.router.navigate(['worlds'])\n    this._sharedService.showAnimalList(true);\n  }\n\n  openSettings(){\n    this.popupServices.open('modal-settings');\n    this.worldService.animalListPosition = \"left\";\n  }\n}\n","<div id=\"container\">\n\t<h1 class=\"main-title\">Sound Hunt</h1>\n\t<div class=\"buttons\">\n\t\t<button (click)=\"start()\" class=\"btn\">START</button>\n\t\t<button (click)=\"openSettings()\" class=\"btn settings\">SETTINGS</button>\n\t</div>\n\t<app-popup id=\"modal-settings\">\n\t\t<app-settings-model-popup id=\"modal-settings\"></app-settings-model-popup>\n\t</app-popup>\n</div>","import { Animal } from \"./Animal\";\nimport { WORLDS } from \"./mock-worlds\";\n\nexport const ANIMALS: Animal[] = [\n    {id:1, name:'cat', description:'', imageUrl:'assets/img/cat.png', catched:false, world:WORLDS[0].id, page:4, x:0.8715, y:0.4386, link:\"http://en.wikipedia.org/wiki/Cat\"},\n    {id:2, name:'boar', description:'', imageUrl:'assets/img/boar.png', catched:false, world:WORLDS[0].id, page:4, x:0.0613, y:0.3953, link:\"https://en.wikipedia.org/wiki/Wild_boar\"},\n    {id:3, name:'frog', description:'', imageUrl:'assets/img/frog.png', catched:false, world:WORLDS[1].id, page:1, x:0.4855, y:0.3934, link:\"https://en.wikipedia.org/wiki/Frog\"},\n    {id:4, name:'koala', description:'', imageUrl:'assets/img/koala.png', catched:false, world:WORLDS[1].id, page:2, x:0.5914, y:0.5759, link:\"https://en.wikipedia.org/wiki/Koala\"},\n    {id:5, name:'fox', description:'', imageUrl:'assets/img/fox.png', catched:false, world:WORLDS[2].id, page:4, x:0.6368, y:0.0650, link:\"https://en.wikipedia.org/wiki/Fox\"},\n    {id:6, name:'dog', description:'', imageUrl:'assets/img/dog.png', catched:false, world:WORLDS[2].id, page:2, x:0.28, y:0.18, link:\"https://en.wikipedia.org/wiki/Dog\"},\n  ];","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","<div id=\"enclosing\">\n    <div id=\"animals\" class=\"animals\">\n        <div id=\"header\" class=\"header\">\n            <img src=\"\\assets\\icons\\animals-list-icon.png\">\n            <div class=\"list-btns\">\n                <div (click)=\"showLocalAnimals($event)\" class=\"list-btn selected\">\n                    <a>Local</a>\n                </div>\n                <div (click)=\"showAllAnimals($event)\" class=\"list-btn\">\n                    <a>Global</a>\n                </div>\n            </div>\n        </div>\n        <div id=\"main\" class=\"main\">\n            <ng-container *ngFor=\"let a of animalService.getAnimals()\">\n                <div *ngIf=\"a.catched\" [ngClass]=\"'animal catched'\" (click)=\"onClickAnimal(a)\">\n                    <img id=\"animalImg\" class=\"animalImgCatched {{a.name}}\" src=\"{{a.imageUrl}}\">\n                </div>\n                <div *ngIf=\"!a.catched\" [ngClass]=\"'animal'\" (click)=\"onClickAnimal(a)\">\n                    <img id=\"animalImg\" class=\"animalImg {{a.name}}\" src=\"{{a.imageUrl}}\">\n                </div>\n            </ng-container>\n        </div>\n        <div id=\"bar\" class=\"bar\"></div>\n        <div id=\"footer\" class=\"footer\">\n            <div class=\"volume-slider\">\n                <span class=\"material-icons\">volume_down</span>\n                <input class=\"volume\" type=\"range\" min=\"0\" max=\"100\" value=\"100\" [(ngModel)]=\"volumeService.volume\">\n                <span class=\"material-icons\">volume_up</span>\n            </div>\n            <p>{{volumeService.volume}}</p>\n        </div>\n    </div>\n</div>","import { Component, OnInit, Input } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AnimalService } from '../animal.service';\nimport { AnimalInfoService } from '../animal-info.service';\nimport { VolumeService } from '../volume.service';\n\n@Component({\n  selector: 'app-animal-list',\n  templateUrl: './animal-list.component.html',\n  styleUrls: ['./animal-list.component.css']\n})\nexport class AnimalListComponent implements OnInit {\n\n  @Input() animalListPos;\n\n  constructor(\n\t  private router : Router,\n    public animalService : AnimalService,\n\t  private animalInfoService: AnimalInfoService,\n    public volumeService: VolumeService\n  ) { }\n\n  ngOnInit() {\n    //this calls the showWorld method\n    this.animalService.showWorld();\n\n    if(this.animalListPos === \"right\"){\n      this.mirrorListRight();\n    }\n  }\n\n  /**\n   * This method remove the class \"animalImg\" from the animal given in the parameter name and adds the class \"animalImgCatched\"\n   * This solely means that the animal image is not greyed out anymore \n   * @param name The name of the animal that was caught\n   */\n  animalCatched(name){\n    var animal = document.getElementsByClassName(name)[0];\n    animal.classList.remove(\"animalImg\");\n    animal.classList.add(\"animalImgCatched\");\n  }\n\n  /**\n   * This method is called when the user clicks the \"Local\" button\n   * It changes the list of animals being shown (which is inside of animalService) so that it only contains the animals\n   * from this world. This is done via a method inside animalService\n   */\n  showLocalAnimals(event:any){\n    this.updateButtonSelected(event.target);\n    this.animalService.showWorld();\n  }\n\n  /**\n   * This method is called when the user clicks the \"Global\" button\n   * It changes the list of animals being shown (which is inside of animalService) so that it contains all animals.\n   * This is done via a method inside animalService\n   */\n  showAllAnimals(event:any){\n    this.updateButtonSelected(event.target);\n    this.animalService.showAll();\n  }\n  \n  updateButtonSelected(selectedButton){\n    Array.from(document.getElementsByClassName(\"list-btn\")).forEach(function (element) {\n      element.classList.remove(\"selected\")\n    });\n    if(selectedButton.classList.contains(\"list-btn\")){\n      selectedButton.classList.add(\"selected\");\n    } else{\n      selectedButton.parentElement.classList.add(\"selected\");\n    }\n  }\n\n  /**\n   * This method is called when the user clicks on an animal\n   * It \"notifies\" the animalInfoService what animal was clicked and changes to the animalInfo page\n   * @param a The animal that was clicked\n   */\n  onClickAnimal(a){\n\tif(a.catched){\n\t\tthis.animalInfoService.changeAnimal(a);\n\t\tthis.router.navigate(['info']);\n\t}\n  }\n\n  mirrorListRight(){\n    var container = document.getElementById('animals');\n    var header = document.getElementById('header');\n    var main = document.getElementById('main');\n    var footer = document.getElementById('footer');\n    var bar = document.getElementById('bar');\n\n    container.classList.add(\"right\");\n    header.classList.add(\"right\");\n    main.classList.add(\"right\");\n    footer.classList.add(\"right\");\n    bar.classList.add(\"right\");\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { WORLDS } from './mock-worlds';\nimport { Observable, of, Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorldService {\n\n  worldNumber = 0;\n  animationNumber = 1;\n  \n  private _animalListPosition = \"left\";\n  private animalListPositionChange$ = new Subject<string>();\n  public animalListPosition$ = this.animalListPositionChange$.asObservable();\n\n  set animalListPosition (val: string) {\n    console.log(val);\n    this._animalListPosition = val;\n    this.animalListPositionChange$.next(val); // Trigger the subject, which triggers the Observable\n  }\n\n  constructor() { }\n\n  getWorldById(){\n    // console.log(\"id: \" + id)\n    // console.log(\"worlds: \" + WORLDS)\n    // console.log(\"worlds filtered: \" + WORLDS.filter(function(w){\n    //   console.log(\"worldid: \" + w.id)\n    //   w.id == id\n    // }))\n    var result;\n    for(var i = 0; i < WORLDS.length; i++){\n      if(WORLDS[i].id == this.worldNumber){\n        result = WORLDS[i]\n      }\n    }\n    return result;\n  }\n  changeWorld(id){\n    this.worldNumber = id;\n  }\n  \n  changeAnimation(id){\n\tthis.animationNumber = id;\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VolumeService {\n\n  volume = 100;\n\n  constructor() { }\n}\n","<div class=\"image imageDiv\">\n    <div id=\"videoContainer\">\n        <video class=\"video\" id=\"video\" autoplay=\"true\" (timeupdate)=\"timeUpdate($event)\">\n\t\t\t<source id=\"source\" src=\"{{getVideoUrl()}}\" type=\"video/mp4\">\n        </video>\n        <span (click)=\"onClickVideo()\"></span>\n    </div>\n    <div id=\"botaoAnt\"  *ngIf=\"!changing\">\n        <button (click)=\"anteriorIndice()\" class=\"arrow\"></button>\n    </div>\n    <div id=\"botaoNxt\" *ngIf=\"!changing\">\n        <button (click)=\"proximoIndice()\" class=\"arrow arrows-right\"></button>\n    </div>\n\t<div id=\"botaoReturnHub\" *ngIf=\"!changing\">\n\t\t<button (click)=\"returnToHub()\" mat-raised-button #tooltip=\"matTooltip\" matTooltip=\"Go back to hub world\" matTooltipHideDelay=\"100000\"  class=\"back-button\"></button>\n\t</div>\n</div>\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { AnimalService } from '../animal.service';\nimport { WorldService } from '../world.service';\nimport { Router } from '@angular/router';\nimport { VolumeService } from '../volume.service';\n\n\nvar x : number;\nvar y : number;\n@Component({\n  selector: 'app-animation',\n  templateUrl: './animation.component.html',\n  styleUrls: ['./animation.component.css']\n})\nexport class AnimationComponent {\n  \n  //var that contains current world being shown\n  current;\n\n  //These two boolean vars are used when a transition between positions (camera rotating) is hapening\n  //When \"rodandoEsquerda\" is true it means we are turning left and when \"rodandoDireita\" is true\n  //it means we are turning right\n  rodandoDireita = false;\n  rodandoEsquerda = false;\n\n  //TODO: this variable is not being used, but it is planned to be used when the audio is added\n  audio : HTMLAudioElement;\n  audio2 : HTMLAudioElement;\n  pair;\n\n  changing = true;\n  url;\n\n  animalsInPage = [];\n\n  onTop;\n\n  constructor(\n\tprivate router : Router,\n    private worldService : WorldService,\n    public animalService : AnimalService,\n    private volumeService: VolumeService){}\n\n  ngOnInit(){\n    if(this.worldService.getWorldById() == undefined){\n      this.router.navigate(['']);\n    }\n    this.pair = {\n      audio : -1,\n      audio2 : -1\n    }\n    this.onTop = [false, false];\n    //this get the position of div containg the video\n    var container = document.getElementById('videoContainer');\n    var offsets = container.getBoundingClientRect();\n    var top = offsets.top;\n    var left = offsets.left;\n\t\n    //this is used to restore the world being shown when the user returns from another page\n    //this.changing = false;\n    this.current = this.worldService.animationNumber;\n    if(this.current != 1){\n      this.changing = false;\n    }\n    console.log(this.current)\n\tconsole.log(this.animalsInPage)\n    /*if(this.current === 0){\n\t\tthis.arriveNewWorldVideo()\n    }*/\n    this.changeVideo();\n\n    //this gets the video element and sets a onended listener that calls the \"changeVideo()\" function and plays the video afterwards\n      \n      console.log(\"Div in position (\" + left + \",\" + top + \")\");\n      var aux = this;\n      window.onmousemove = function(e){\n            x = e.clientX-left,\n            y = -(e.clientY-top);\n            x /= container.clientWidth;\n            y /= container.clientHeight;\n            console.log(\"Mouse in position (\" + x + \",\" + y + \")\");\n            if(aux.changing){\n              aux.resetAudio();\n\t\t\t  return;\n            }\n            for(var i = 0; i < aux.animalsInPage.length; i++){\n              var animalx = aux.animalsInPage[i].animal.x;\n              var animaly = aux.animalsInPage[i].animal.y;\n              var distance = Math.abs(aux.distance(x,y,animalx,animaly));\n              console.log(\"distance to \" + aux.animalsInPage[i].animal.name + \" : \" + distance);\n              if(distance < 0.2){\n                aux.playAudio(i);\n                aux.mudaVolume(i, 1 - (distance / 0.2));\n                //console.log(\"audio played\");\n                //aux.audio.volume = 1 - (distance / 0.2);\n                //console.log(\"volume setted to: \" + aux.audio.volume);\n                //aux.audio.play();\n              }else{\n                //console.log(\"audio paused\");\n                aux.pausa(i);\n              }\n              if(distance < 0.06){\n                console.log(\"You are hoovering the \" + aux.animalsInPage[i].animal.name);\n                aux.animalsInPage[i].onTop = true;\n              }else{\n                aux.animalsInPage[i].onTop = false;\n              }\n              console.log(aux.animalsInPage);\n            }\n      };\n  }\n\n  resetAudio(){\n    if(this.audio != undefined){\n      this.audio.pause();\n    }\n    if(this.audio2 != undefined){\n      this.audio2.pause();\n    }\n  }\n\n  playAudio(animal){\n    if(this.audio == undefined || this.pair.audio == -1){\n\t  console.log(\"A\")\n\t  if (this.audio == undefined){\n\t\tthis.audio = new Audio();\n\t  }\n      if(this.audio.paused){\n        this.pair.audio = animal;\n        this.audio.src = \"assets/sounds/\" + this.animalsInPage[animal].animal.name + \".mp3\";\n        this.audio.loop = true;\n        this.audio.load();\n        this.audio.play();\n      }\n    }else if(this.pair.audio == animal){\n\t  console.log(\"B\")\n      this.audio.play();\n    }else if(this.audio2 == undefined || this.pair.audio2 == -1){\n\t\tconsole.log(\"C\")\n\t  if (this.audio2 == undefined){\n\t\tthis.audio2 = new Audio();\n\t  }\n      //this.audio2 = new Audio();\n      if(this.audio2.paused){\n        this.pair.audio2 = animal;\n        this.audio2.src = \"assets/sounds/\" + this.animalsInPage[animal].animal.name + \".mp3\";\n        this.audio2.loop = true;\n        this.audio2.load();\n        this.audio2.play();\n      }\n    }else if(this.pair.audio2 == animal){\n\t\tconsole.log(\"D\")\n      this.audio2.play();\n    }\n    //TODO: use animal to get the respective sound\n    \n  }\n\n  mudaVolume(animal, volume){\n    if(this.pair.audio == animal){\n      this.audio.volume = volume;\n      this.audio.play();\n    }else if(this.pair.audio2 == animal){\n      this.audio2.volume = volume;\n      this.audio2.play();\n    }\n  }\n\n  pausa(animal){\n    if(this.pair.audio == animal){\n      this.audio.loop = false;\n      this.audio.pause();\n    }else if(this.pair.audio2 == animal){\n      this.audio2.loop = false;\n      this.audio2.pause();\n    }\n  }\n\n  /**\n   * This method is called when the user clicks on the video\n   */\n  onClickVideo(){\n    var sourceAux : any = document.getElementById(\"source\")\n    var source : HTMLSourceElement = sourceAux\n    var videoAux : any = document.getElementById(\"video\")\n    var video : HTMLVideoElement = videoAux;\n    var aux2 = this\n    console.log(this.animalsInPage)\n    for(var i = 0; i < this.animalsInPage.length; i++){\n      console.log(this.animalsInPage[i])\n      if(this.animalsInPage[i].onTop){\n        this.changing = true;\n        var animal = aux2.animalsInPage[i].animal;\n        var last = source.src;\n        this.url = `assets/video/catch${animal.id}.mp4`\n        video.load();\n        video.play()\n        video.onended = function(){\n          aux2.animalService.setCatched(animal.id);\n          aux2.url = last;\n          video.load();\n          video.play()\n          aux2.changing = false;\n        }\n      }\n    }\n  }\n\n  /**\n   * This method is called when the user clicks the left arrow button\n   * It changes the \"current\" variable to the previous position index, \"notifies\" the\n   * world Service of this change, changes the value of the variable \"rodandoEsquerda\" to true\n   * and calls \"changeVideo()\"\n   */\n  anteriorIndice(){\n    this.current = this.previous()\n    this.worldService.changeAnimation(this.current)\n    this.worldService.changeAnimation(this.current);\n    this.rodandoEsquerda = true;\n    this.changing = true;\n    this.changeVideo()\n\tfor(var i = 0; i < this.animalsInPage.length; i++){\n\t\tthis.animalsInPage[i].onTop = false;\n\t}\n\tthis.pair.audio = -1\n\tthis.pair.audio2 = -1\n\tthis.resetAudio()\n  }\n  \n  /**\n   * This method calculates the previous position index\n   * @returns The previous world index\n   */\n  previous(){\n    var result = ((this.current-1) % 5)\n    if(result <= 0){\n      result = 4;\n    }\n    return result;\n  }\n\n  /**\n   * This method is called when the user clicks the right arrow button\n   * It changes the \"current\" variable to the next position index, \"notifies\" the\n   * world Service of this change, changes the value of the variable \"rodandoDireita\" to true\n   * and calls \"changeVideo()\"\n   */\n  proximoIndice(){\n    this.current = ((this.current+1) % 5)\n    //this.animalsInPage = this.animalService.getAnimalForPage(this.current);\n    this.worldService.changeAnimation(this.current)\n    if(this.current == 0){\n      this.current++;\n    }\n    this.worldService.changeAnimation(this.current);\n    this.rodandoDireita = true;\n    this.changing = true;\n    this.changeVideo()\n\tfor(var i = 0; i < this.animalsInPage.length; i++){\n\t\tthis.animalsInPage[i].onTop = false;\n\t}\n\tthis.pair.audio = -1\n\tthis.pair.audio2 = -1\n\tthis.resetAudio()\n  }\n  \n  /**\n   * This method calculates the previous position index\n   * @returns The previous world index\n   */\n  next(){\n    var result = ((this.current+1) % 5)\n    if(result <= 0){\n      result++;\n    }\n    return result;\n  }\n\n  /**\n   * This method is called when the user clicks the back button\n   * It simply navigates to the world choice menu\n   */\n  returnToHub(){\n      var videoAux : any = document.getElementById(\"video\")\n      var video : HTMLVideoElement = videoAux\n\t  this.worldService.changeAnimation(0)\n\t  this.router.navigate(['worlds'])\n  }\n\n  /**\n   * This method changes the video being presented to the user\n   * It first verifies if \"rodandoDireita\" or \"rodandoEsquerda\" are true and\n   * if one of them is true, it change to the video transition between the previous video being shown\n   * and the video that is going to be shown and adds a listener to its end. When the video ends it\n   * changes to the new video being shown\n   * If none of them are true, the method simply set the video to be the current one\n   * At the end of the method video.load() and video.play() are called to make the video be shown and played\n   */\n  changeVideo(){\n    var sourceAux : any = document.getElementById(\"source\")\n    var source : HTMLSourceElement = sourceAux\n    var videoAux : any = document.getElementById(\"video\")\n    var video : HTMLVideoElement = videoAux;\n    var aux2 = this\n    if(this.rodandoDireita){\n      source.src = `assets/video/${this.worldService.getWorldById().name}/${this.previous()}${this.current}.mp4`\n      this.url = `assets/video/${this.worldService.getWorldById().name}/${this.previous()}${this.current}.mp4`\n\t    video.onended = function(){\n        if(aux2.rodandoDireita){\n          source.src = `assets/video/${aux2.worldService.getWorldById().name}/${aux2.current}.mp4`\n\t\t      aux2.url = `assets/video/${aux2.worldService.getWorldById().name}/${aux2.current}.mp4`\n          aux2.rodandoDireita = false\n          console.log(aux2.url)\n          video.load();\n          video.play()\n        }else{\n          video.currentTime = 0;\n          video.play();\n        }\n        aux2.animalsInPage = aux2.animalService.getAnimalForPage(aux2.current);\n        aux2.changing = false;\n      }\n      video.load()\n      video.play()\n    }else if(this.rodandoEsquerda){\n      source.src = `assets/video/${this.worldService.getWorldById().name}/${this.next()}${this.current}.mp4`\n      this.url = `assets/video/${this.worldService.getWorldById().name}/${this.next()}${this.current}.mp4`\n\t  video.onended = function(){\n        if(aux2.rodandoEsquerda){\n          source.src = `assets/video/${aux2.worldService.getWorldById().name}/${aux2.current}.mp4`\n\t\t      aux2.url = `assets/video/${aux2.worldService.getWorldById().name}/${aux2.current}.mp4`\n          aux2.rodandoEsquerda = false\n          console.log(aux2.url)\n          video.load();\n          video.play()\n        }else{\n          video.currentTime = 0;\n          video.play();\n        }\n        aux2.animalsInPage = aux2.animalService.getAnimalForPage(aux2.current);\n        aux2.changing = false;\n      }\n      video.load()\n\t\t  video.play()\n    }else if(this.changing){\n      console.log(\"im here\")\n      this.url = `assets/video/${this.worldService.getWorldById().name}/${this.current}.mp4`\n      video.onended = function(){\n        console.log(\"im here\")\n        aux2.current = 1;\n        aux2.url = `assets/video/${aux2.worldService.getWorldById().name}/${aux2.current}.mp4`\n\t\t    video.currentTime = 0;\n        video.load();\n        video.play()\n        aux2.animalsInPage = aux2.animalService.getAnimalForPage(aux2.current);\n      }\n      console.log(video.onended)\n    }else{\n      source.src = `assets/video/${this.worldService.getWorldById().name}/${this.current}.mp4`\n\t    this.url = `assets/video/${this.worldService.getWorldById().name}/${this.current}.mp4`\n      video.onended = function(){\n\t\t    video.currentTime = 0;\n        video.load();\n        video.play()\n        aux2.animalsInPage = aux2.animalService.getAnimalForPage(aux2.current);\n      }\n      video.play();\n    }\n    console.log(aux2.url)\n  }\n\n  timeUpdate(time){\n    //console.log(time.target.currentTime)\n    var videoAux : any = document.getElementById(\"video\")\n    var video : HTMLVideoElement = videoAux;\n    //console.log(video.duration);\n    if(this.current == 0 && Math.abs(time.target.currentTime - video.duration) < 0.001){\n      //console.log(\"im here\")\n      this.current = 1;\n      this.changing = false;\n      this.changeVideo();\n    }\n    video.volume = this.volumeService.volume/100;\n  }\n\n  distance(x1, y1, x2, y2){\n    return Math.sqrt(Math.pow(x2-x1,2) + Math.pow(y2-y1,2));\n  }\n  \n  getVideoUrl(){\n    return this.url\n  }\n}\n","import { World } from \"./World\";\n\nexport const WORLDS: World[] = [\n    {id:1, name:\"mountain\"},\n    {id:2, name:\"forest\"},\n\t{id:3, name:\"city\"}\n  ];","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { SharedService } from './services/shared-service.service';\nimport { WorldService } from './world.service';\n\nvar x : number;\nvar y : number;\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [SharedService]\n})\nexport class AppComponent {\n  @ViewChild('video1') myVideo: ElementRef;\n  title = 'Multimedia';\n  audio;\n  onTop;\n  showAnimalList = true;\n  animalListPos = \"left\";\n  mainContainerStyle = \"master\"\n  constructor( \n      private _sharedService: SharedService,\n      private worldServise: WorldService \n    ){\n      this._sharedService.changeEmitted$.subscribe(\n        value => {\n          this.mainContainerStyle = value? \"master\" : \"master-full\";\n          this.showAnimalList = value;\n          document.getElementById('container').classList.remove(\"master\");\n          document.getElementById('container').classList.remove(\"master-full\");\n          document.getElementById('container').classList.add(this.mainContainerStyle);\n        });\n\n    }\n\n  ngOnInit(){\n\n    this.worldServise.animalListPosition$.subscribe(\n      toogle => {\n        console.log(\"sadasdasdasdsad\");\n        var container = document.getElementById('container');\n        if(toogle == \"right\"){\n          container.classList.add(\"right\");\n          this.animalListPos = \"right\";\n        }else{\n          container.classList.remove(\"right\");\n          this.animalListPos = \"left\";\n        }\n    })\n\n    var offsets = document.getElementById('imageContainer').getBoundingClientRect();\n    var top = offsets.top;\n    var left = offsets.left;\n    //console.log(\"Div in position (\" + left + \",\" + top + \")\");\n    window.onmousemove = function(e){\n          x = e.clientX-left,\n          y = e.clientY-top;\n          console.log(\"Mouse in position (\" + x + \",\" + y + \")\");\n          if(this.audio == undefined){\n            this.audio = new Audio();\n          }\n          if(x > 1100-left && x < 1300-left && y > 600-top && y < 800-top){\n            if(!this.onTop){\n              this.audio.src = \"../../../assets/sounds/Sia - Cheap Thrills (Lyric Video) ft. Sean Paul.mp3\";\n              this.audio.load();\n              this.audio.play();\n            }\n            console.log(\"You are hoovering the light\");\n            this.onTop = true;\n          }else{\n            this.onTop = false;\n            this.audio.pause();\n          }\n    };\n  }\n\n  onClickImage(){\n    this.image = false;\n    this.video1 = true;\n    this.video2 = false;\n\n    setTimeout(this.startVideo1, 10);\n\n  }\n\n  onClickVideo1(){\n    this.image = false;\n    this.video1 = false;\n    this.video2 = true;\n\n    setTimeout(this.startVideo2, 10);\n  }\n\n  onClickVideo2(){\n    this.image = true;\n    this.video1 = false;\n    this.video2 = false;\n  }\n  startVideo1(){\n    var videoElem : any = document.getElementById(\"video1\");\n    videoElem.play();\n  }\n\n  startVideo2(){\n    var videoElem : any = document.getElementById(\"video2\");\n    videoElem.play();\n  }\n\n  image = true;\n  video1 = false;\n  video2 = false;\n\n  showImage(){\n    return this.image;\n  }\n\n  showVideo1(){\n    return this.video1;\n  }\n\n  showVideo2(){\n    return this.video2;\n  }\n\n  current = 1;\n  getImage(){\n    return `assets/img/${this.current}.png`\n  }\n\n  anteriorIndice(){\n    this.current = ((this.current-1) % 5)\n    if(this.current == 0){\n      this.current = 4;\n    }\n  }\n\n  proximoIndice(){\n    this.current = ((this.current+1) % 5)\n    if(this.current == 0){\n      this.current++;\n    }\n  }\n}","<head>\n  <title>Test Sound</title>\n</head>\n<body>\n  <div id=\"container\" class=\"master\">\n    <div id=\"col1-header\">\n      <img src=\"\\assets\\img\\top_border_image.png\">\n    </div>\n    <div id=\"col1-content\" class=\"main\">\n      <router-outlet></router-outlet>\n    </div>\n    <div id=\"col1-footer\">\n      <img src=\"\\assets\\img\\button_border_image.png\">\n    </div>\n    <app-animal-list *ngIf=\"showAnimalList\" id=\"col2\" animalListPos=\"{{animalListPos}}\"></app-animal-list>\n  </div>\n</body>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { AnimationComponent } from './animation/animation.component';\nimport { AnimalListComponent } from './animal-list/animal-list.component';\nimport { WorldsComponent } from './worlds/worlds.component';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { AnimalInfoComponent } from './animal-info/animal-info.component';\nimport { MainMenuComponent } from './main-menu/main-menu.component';\nimport { FormsModule, NgForm } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { PopupComponent } from './popup/popup/popup.component';\nimport { SettingsModelPopupComponent } from './popup/settings-model-popup/settings-model-popup.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    AnimationComponent,\n    AnimalListComponent,\n\tWorldsComponent,\n\tAnimalInfoComponent,\n MainMenuComponent,\n PopupComponent,\n SettingsModelPopupComponent\n  ],\n  imports: [\n  \tMatTooltipModule,\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    HttpClientModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { ANIMALS } from './mock-animals';\nimport { WorldService } from './world.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AnimalService {\n  \n  animalsToShow;\n\n  local;\n\n  constructor(private worldService : WorldService) {\n    this.animalsToShow = ANIMALS; \n  }\n\n  getAnimals(){\n    //console.log(this.animalsToShow)\n    if(this.local){\n      return this.animalsToShow;\n    }else{\n      return ANIMALS;\n    }\n  }\n  showAll(){\n    this.local = false;\n  }\n\n  showWorld(){\n    this.refresh();\n    this.local = true;\n  }\n  \n  refresh() {\n    var result = [];\n    for(var i = 0; i < ANIMALS.length; i++){\n      if(ANIMALS[i].world == this.worldService.worldNumber){\n        result.push(ANIMALS[i])\n      }\n    }\n    this.animalsToShow = result;\n  }\n\n  getAnimal(id){\n    return ANIMALS.filter(function(an){\n      an.id == id\n    })[0]\n  }\n\n  getAnimalForPage(page){\n    //console.log(this.worldService.worldNumber)\n    var result = [];\n    for(var i = 0; i < ANIMALS.length; i++){\n      if(ANIMALS[i].world == this.worldService.worldNumber && ANIMALS[i].page == page){\n        result.push({animal : ANIMALS[i], onTop : false})\n      }\n    }\n    return result;\n  }\n\n  setCatched(id){\n    ANIMALS.map(function(an){\n      if(an.id == id){\n        an.catched = true;\n      }\n    })\n  }\n\n  isCatched(id){\n    return this.getAnimal(id).catched\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\nimport { AnimalService } from '../animal.service';\nimport { AnimalInfoService } from '../animal-info.service';\nimport {Location} from '@angular/common';\nimport { Animal } from '../Animal';\nimport { HttpClient } from '@angular/common/http';\nimport { ANIMALS } from '../mock-animals';\nimport { WorldService } from '../world.service';\n\ndeclare var require:any\n\n@Component({\n  selector: 'app-animal-info',\n  templateUrl: './animal-info.component.html',\n  styleUrls: ['./animal-info.component.css']\n})\nexport class AnimalInfoComponent implements OnInit {\n\n  currAnimal : Animal;\n  data;\n  language = \"Portuguese\";\n  subtitles;\n  fileContent;\n  end;\n  \n  constructor(\n    private worldService : WorldService,\n  private router : Router,\n\tprivate _location: Location,\n\tprivate animalInfoService: AnimalInfoService,\n  private http: HttpClient\n  ) { }\n\n  ngOnInit(): void {\n    //this.animalInfoService.animal = {id:1, name:'cat', description:'', imageUrl:'../assets/img/cat.png', catched:false, world:1, page:4, x:0.8715, y:0.4386, link:\"http://en.wikipedia.org/wiki/Cat\"}\n    if(this.animalInfoService.animal == undefined){\n      this.router.navigate(['']);\n    }\n\t  //this.currAnimal = this.animalInfoService.animal;\n    this.currAnimal = ANIMALS[this.animalInfoService.animal.id - 1];\n    //var fs = require('fs');\n    var parser = require('subtitles-parser');\n    //var srt = fs.readFile(`assets/subtitles/${name}-${this.language}.srt`, { encoding: 'utf-8' });\n    //this.data = parser.fromSrt(\"1\\n00:00:00,000 --> 00:00:02,000\\nEncontrou um gato!\\n\");\n\n    var source = this;\n\n    this.showVideoEmbededSubs();\n    this.addBackgroundPhoto()\n\n    this.http.get(`assets/subtitles/${this.currAnimal.name}-${this.language}.srt`, {responseType: 'text'})\n        .subscribe(data => {\n          source.data = parser.fromSrt(data);\n        });\n  }\n\n  hideOurSubtitlesOptions(){\n    (<HTMLDivElement> document.getElementsByClassName(\"subtitle-options\")[0]).style.display = \"none\";\n    (<HTMLDivElement> document.getElementsByClassName(\"subtitles\")[0]).style.display = \"none\";\n  }\n\n  showVideoEmbededSubs(){\n    this.hideOurSubtitlesOptions();\n    var subs = document.getElementsByClassName(\"sub\");\n    var en = <HTMLTrackElement> subs[0];\n    var pt = <HTMLTrackElement> subs[1];\n\n    en.src = \"assets\\\\subtitles\\\\\" + this.currAnimal.name + \"-English.vtt\";\n    pt.src = \"assets\\\\subtitles\\\\\" + this.currAnimal.name +\"-Portuguese.vtt\";\n\n  }\n\n  addBackgroundPhoto(){\n    var img = <HTMLImageElement>document.getElementsByClassName(\"bg-image\")[0];\n    img.src = \"assets\\\\img\\\\animalInfo_bg_world\" + this.currAnimal.world + \".png\";\n  }\n  \n  getCurrAnimalName(){\n      this.currAnimal = this.animalInfoService.animal;\n\t  return this.currAnimal.name;\n  }\n  \n  closeInfoPage(){\n\t  this._location.back();\n  }\n\n  getVideoUrl(){\n    return `assets/video/${this.currAnimal.name}.mp4`\n  }\n\n  timeUpdate(time){\n    console.log(time.target.currentTime)\n    var videoAux : any = document.getElementById(\"animalVideo\");\n    var video : HTMLVideoElement = videoAux;\n    if(video.duration - time.target.currentTime < 6){\n      this.end = true;\n    }else{\n      this.end = false;\n    }\n    if(this.language === \"Off\"){\n      this.subtitles = \"\";\n      return;\n    }\n\tvar parser = require('subtitles-parser');\n\tvar source = this;\n\tthis.http.get(`assets/subtitles/${this.currAnimal.name}-${this.language}.srt`, {responseType: 'text'})\n        .subscribe(data => {\n        source.data = parser.fromSrt(data);\n    });\n    for(var i = 0; i < this.data.length; i++){\n      console.log(this.stringToSeconds(this.data[i].startTime) < time.target.currentTime && this.stringToSeconds(this.data[i].endTime) > time.target.currentTime)\n      if(this.stringToSeconds(this.data[i].startTime) < time.target.currentTime && this.stringToSeconds(this.data[i].endTime) > time.target.currentTime){\n        this.subtitles = this.data[i].text;\n        console.log(this.subtitles)\n        break;\n      }\n    }\n  }\n  stringToSeconds(string : string){\n    var auxString = string.split(\":\");\n    var result = +auxString[0]*3600;\n    result += +auxString[1]*60;\n    result += +auxString[2].split(\",\")[0] + +auxString[2].split(\",\")[1]/1000\n    console.log(\"string :\" + string + \": \" + result + \" secs\")\n    return result;\n  }\n\n  changedLang(){\n    if(this.language !== \"Off\"){\n      var parser = require('subtitles-parser');\n      var source = this;\n      this.http.get(`assets/subtitles/${this.currAnimal.name}-${this.language}.srt`, {responseType: 'text'})\n          .subscribe(data => {\n            source.data = parser.fromSrt(data);\n          });\n    }\n  }\n\n  getAnimalInfoLink(){\n    //this.router.navigateByUrl(this.currAnimal.link);\n    window.open(this.currAnimal.link, \"_blank\");\n  }\n\n  getAnimalLink(){\n    return \"info\";\n  }\n\n  getWikiName(){\n    var name = this.currAnimal.name;\n    \n    var nameAux = name.charAt(0).toUpperCase();;\n    for(var i = 1; i < name.length; i++){\n      nameAux = nameAux + name.charAt(i);\n    }\n    return `${nameAux} Wikipedia Page`;\n  }\n}\n","<div class=\"info-grid\">\n    <img class=\"bg-image\" src=\"assets\\img\\animalInfo_bg_world1.png\"/>\n    <h2 class=\"title\">{{getCurrAnimalName()}}</h2>\n    <button class=\"back-button\" (click)=\"closeInfoPage()\"> Close </button>\n    <div class=\"video-container\">\n        <div class=\"subtitle-options\">\n            <select name=\"language\" [(ngModel)]=\"language\" (change)=\"changedLang()\">\n                <option value=\"Portuguese\">Português</option>\n                <option value=\"English\">English</option>\n                <option value=\"Off\">No subtitles</option>\n            </select>\n        </div>\n        <div class=\"video-subtitles\">\n            <a [routerLink]=\"\" style=\"display:block; position: absolute; width: 100%; height: 100%;\">\n                <div class=\"link-count\" *ngIf=\"end\">\n                    <div class=\"link\" (click)=\"getAnimalInfoLink()\" mat-raised-button #tooltip=\"matTooltip\" matTooltip=\"{{getWikiName()}}\" matTooltipHideDelay=\"100000\">\n                    </div>\n                </div>\n            </a>\n            <video id=\"animalVideo\" src=\"{{getVideoUrl()}}\" controls (timeupdate)=\"timeUpdate($event)\" type=\"video/mp4\">\n                <track class=\"sub\" kind=\"subtitles\" srclang=\"en\" src=\"\" label=\"English\" default />\n                <track class=\"sub\" kind=\"subtitles\" srclang=\"pt\" src=\"\" label=\"Português\" default />\n            </video>\n            <div class=\"subtitles\">\n                <p>\n                    {{subtitles}}\n                </p>\n            </div>\n        </div>\n    </div>\n</div>","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SharedService {\n\n  // Observable string sources\n  private emitChangeSource = new Subject<any>();\n  \n  // Observable string streams\n  changeEmitted$ = this.emitChangeSource.asObservable();\n\n  // Service message commands\n  showAnimalList(b: boolean){\n    this.emitChangeSource.next(b);\n  }\n\n  constructor() { }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { WorldsComponent } from './worlds/worlds.component'\nimport { AnimationComponent } from './animation/animation.component'\nimport { AnimalInfoComponent} from './animal-info/animal-info.component'\nimport { MainMenuComponent} from './main-menu/main-menu.component'\n\nconst routes: Routes = [\n\t{ path: '', component: MainMenuComponent},\n\t{ path: 'worlds', component: WorldsComponent },\n\t{ path: 'animation', component: AnimationComponent },\n\t{ path: 'info', component: AnimalInfoComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, ViewEncapsulation, ElementRef, Input, OnInit, OnDestroy } from '@angular/core';\nimport { PopupService } from './popup.service';\n\n@Component({\n  selector: 'app-popup',\n  templateUrl: './popup.component.html',\n  styleUrls: ['./popup.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class PopupComponent implements OnInit {\n\n  @Input() id: string;\n  private element: any;\n\n  constructor(private modalService: PopupService, private el: ElementRef) { \n    this.element = el.nativeElement;\n  }\n\n  ngOnInit(): void {\n    // ensure id attribute exists\n    if (!this.id) {\n        console.error('modal must have an id');\n        return;\n    }\n\n    // move element to bottom of page (just before </body>) so it can be displayed above everything else\n    document.body.appendChild(this.element);\n\n    // close modal on background click\n    this.element.addEventListener('click', el => {\n        if (el.target.className === 'jw-modal') {\n            this.close();\n        }\n    });\n\n    // add self (this modal instance) to the modal service so it's accessible from controllers\n    this.modalService.add(this);\n  }\n\n  // remove self from modal service when component is destroyed\n  ngOnDestroy(): void {\n    this.modalService.remove(this.id);\n    this.element.remove();\n  }\n\n  // open modal\n  open(): void {\n      this.element.style.display = 'block';\n      document.body.classList.add('jw-modal-open');\n  }\n\n  // close modal\n  close(): void {\n      this.element.style.display = 'none';\n      document.body.classList.remove('jw-modal-open');\n  }\n\n}\n","<div class=\"jw-modal\">\n    <div class=\"jw-modal-body\">\n        <ng-content></ng-content>\n    </div>\n</div>\n<div class=\"jw-modal-background\"></div>\n","import { Injectable } from '@angular/core';\nimport { ANIMALS } from './mock-animals';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AnimalInfoService {\n\n  animal;\n  \n  constructor() { }\n  \n  changeAnimal(a){\n\tthis.animal = a;  \n  }\n}\n","<div id=\"container\">\n\t<video class=\"video\" id=\"video\" autoplay=\"true\" (timeupdate)=\"timeUpdate($event)\"> <!-- autoplay -->\n\t\t<source id=\"source\" src=\"{{getVideoUrl()}}\" type=\"video/mp4\">\n\t</video>\n\t<div id=\"ui\" *ngIf=\"!changing\">\n\t\t<div id=\"top\">\n\t\t\t<div>\n\t\t\t\t<button (click)=\"backToMainMenu()\" mat-raised-button #tooltip=\"matTooltip\" matTooltip=\"Go back to main menu\" matTooltipHideDelay=\"100\" class=\"back-button\"></button>\n\t\t\t</div>\n\t\t\t<div id=\"worldTitle\">\n\t\t\t\t<h1 class=\"title\">Choose a Location</h1>\n\t\t\t</div>\n\t\t\t<div style=\"width: 100px;\">\n\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"middle\">\n\t\t\t<div id=\"botaoAnt\">\n\t\t\t\t<button (click)=\"previousWorld()\" class=\"arrow\"></button>\n\t\t\t</div>\n\t\t\t<!-- <div id=\"imageContainer\">\n\t\t\t\t<img class=\"image\" id=\"image\" src='{{getWorld()}}'>\n\t\t\t</div> -->\n\t\t\t<div id=\"botaoNxt\">\n\t\t\t\t<button (click)=\"nextWorld()\" class=\"arrow arrows-right\"></button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"chooseButton\">\n\t\t\t<button class=\"centerButton\" class=\"btn\" (click)=\"chooseWorld()\">Select: {{getWorldName()}}</button>\n\t\t</div>\n\t</div>\n</div>\n\n\n<!-- <div class=\"image imageDiv\">\n\t<div id=\"worldTitle\">\n\t\t<h1>Current Location: {{getWorldName()}}</h1>\n\t</div>\n    <div id=\"botaoAnt\">\n        <button (click)=\"previousWorld()\" class=\"botaoAnterior\"> </button>\n    </div>\n    <div id=\"botaoNxt\">\n        <button (click)=\"nextWorld()\" class=\"botaoSeguinte\"> > </button>\n    </div>\n\t\n\t<div id=\"imageContainer\">\n\t\t<img class=\"image\" id=\"image\" src='{{getWorld()}}'>\n\t</div>\n\t\n\t<div id=\"chooseButton\">\n\t\t<button class=\"centerButton\" (click)=\"chooseWorld()\">Select World!</button>\n\t</div>\n</div> -->\n","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AnimalService } from '../animal.service';\nimport { VolumeService } from '../volume.service';\nimport { WorldService } from '../world.service';\n\n\n@Component({\n  selector: 'app-worlds',\n  templateUrl: './worlds.component.html',\n  styleUrls: ['./worlds.component.css']\n})\nexport class WorldsComponent implements OnInit {\n\n  //var that contains current world being shown\n  current;\n\n  //these two boolean vars are used when a transition between worlds (camera rotating) is hapening\n  //when \"rodandoEsquerda\" is true it means we are turning left and when \"rodandoDireita\" is true\n  //it means we are turning right\n  rodandoEsquerda;\n  rodandoDireita;\n\n  changing = false;\n  url;\n\n  entering = 0;\n\n  constructor(\n\tprivate router : Router,\n\tprivate worldService : WorldService,\n\tprivate animalService : AnimalService,\n  public volumeService : VolumeService) { }\n\n  ngOnInit(): void {\n    //this is used to restore the world being shown when the user returns from another page\n    this.current = this.worldService.worldNumber;\n    if(this.current !== 0){\n      this.entering = this.current;\n    }else{\n      this.current =  1;\n    }\n\tthis.changing = false;\n    this.worldService.changeWorld(this.current)    \n\n    //this calls the method that load the right video\n    this.changeVideo()\n\t\n  }\n  \n  /**\n   * This method is called when the user clicks the button to choose the world\n   * It loads the video walking in the direction of the world and, on it ends, changes\n   * to the animation page\n   */\n  chooseWorld(){\n    var videoAux : any = document.getElementById(\"video\")\n    var video : HTMLVideoElement = videoAux;\n\tthis.url = `assets/video/worlds/worlds${this.current}into.mp4`\n\tthis.changing = true;\n\tthis.entering = 0\n    var aux2 = this\n    video.onended = function(){\n\t  console.log(\"A\")\n\t  aux2.worldService.changeAnimation(0)\n      aux2.router.navigate(['animation']);\n    }\n\t\n    video.load()\n\t\n  }\n\n  //This method was used when the world showed a picture\n  /* getWorld(){\n    return `assets/img/${this.worldService.getWorldById().name}HubWorld.png`\n  }*/\n  \n  /**\n   * This methods gets and returns the name of the world being shown\n   * @returns The name of the world that is being shown\n   */\n  getWorldName(){\n\t return this.worldService.getWorldById().name\n  }\n\n  /**\n   * This method is called when the user clicks the left arrow button\n   * It changes the \"current\" variable to the previous world index, \"notifies\" the\n   * world and animal Services of this change, changes the value of the variable \"rodandoEsquerda\" to true\n   * and calls \"changeVideo()\"\n   */\n  previousWorld(){\n    this.current = this.previous()\n    this.worldService.changeWorld(this.current)\n    this.rodandoEsquerda = true;\n    this.changing = true;\n    this.changeVideo()\n  }\n\n  /**\n   * This method calculates the previous world index\n   * @returns The previous world index\n   */\n  previous(){\n    var result = ((this.current-1) % 4)\n    if(result <= 0){\n      result = 3;\n    }\n    return result;\n  }\n\n  /**\n   * This method is called when the user clicks the right arrow button\n   * It changes the \"current\" variable to the next world index, \"notifies\" the\n   * world and animal Services of this change, changes the value of the variable \"rodandoDireita\" to true\n   * and calls \"changeVideo()\"\n   */\n  nextWorld(){\n    this.current = this.next()\n    this.worldService.changeWorld(this.current)\n    this.rodandoDireita = true\n    this.changing = true;\n    this.changeVideo()\n  }\n\n  /**\n   * This method calculates the next world index\n   * @returns The next world index\n   */\n  next(){\n    var result = ((this.current+1) % 4)\n    if(result <= 0){\n      result++;\n    }\n    return result;\n  }\n\n  /**\n   * This method changes the video being presented to the user\n   * It first verifies if \"rodandoDireita\" or \"rodandoEsquerda\" are true and\n   * if one of them is true, it change to the video transition between the previous video being shown\n   * and the video that is going to be shown and adds a listener to its end. When the video ends it\n   * changes to the new video being shown\n   * If none of them are true, the method simply set the video to be the current one\n   * At the end of the method video.load() and video.play() are called to make the video be shown and played\n   */\n  changeVideo(){\n    var sourceAux : any = document.getElementById(\"source\")\n    var source : HTMLSourceElement = sourceAux\n    var videoAux : any = document.getElementById(\"video\")\n    var video : HTMLVideoElement = videoAux;\n    var aux2 = this\n    console.log(this.previous())\n\t\n    if(this.rodandoDireita){\n\t\t\n      source.src = `assets/video/worlds/worlds${this.previous()}${this.current}.mp4`\n\t  this.url = source.src\n\t  this.rodandoDireita = false\n      this.animalService.refresh();\n      video.onended = function(){\n        source.src = `assets/video/worlds/worlds${aux2.current}.mp4`\n\t\taux2.url = source.src\n\t\taux2.changing = false;\n        console.log(source.src)\n        video.load()\n        video.play()\n      }\n\t  video.load()\n\t  video.play()\n\t  \n    }else if(this.rodandoEsquerda){\n      source.src = `assets/video/worlds/worlds${this.next()}${this.current}.mp4`\n\t  this.url = source.src\n\t  this.rodandoEsquerda = false\n      this.animalService.refresh();\n      video.onended = function(){\n        source.src = `assets/video/worlds/worlds${aux2.current}.mp4`\n\t\taux2.url = source.src\n\t\taux2.changing = false;\n        console.log(source.src)\n        video.load()\n        video.play()\n      }\n\t  video.load()\n\t  video.play()\n\t}else if(this.changing){\n\t\tthis.url = `assets/video/worlds/worlds${this.current}.mp4` \n\t\tvideo.onended = function(){\n\t\t\tconsole.log(\"C\")\n\t\t\taux2.current = 1;\n\t\t\taux2.url = `assets/video/worlds/worlds${aux2.current}.mp4` \n\t\t\tvideo.currentTime = 0;\n\t\t\tvideo.load()\n\t\t\tvideo.play()\n\t\t}\n    }else{\n      source.src = `assets/video/worlds/worlds${this.current}.mp4` \n\t  this.url = source.src\n\n      video.onended = function(){\n\t\tconsole.log(\"B\")\n        aux2.animalService.refresh();\n\t\tvideo.currentTime = 0;\n        video.play()\n      }\n\t  video.play();\n    }\n  }\n  \n  timeUpdate(time){\n    //console.log(time.target.currentTime)\n    //console.log(\"entering: \" + this.entering)\n    var videoAux : any = document.getElementById(\"video\")\n    var video : HTMLVideoElement = videoAux;\n    if(this.entering != 0 && Math.abs(time.target.currentTime - video.duration) < 0.001){\n      this.url = `assets/video/worlds/worlds${this.current}.mp4` \n      video.currentTime = 0;\n\t  this.changing = false;\n      video.load();\n      video.play()\n    }\n    video.volume = this.volumeService.volume/100;\n  }\n  \n  /**\n   * This method is called when the user clicks the back button\n   * It simply navigates to the main menu\n   */\n  backToMainMenu(){\n\t  this.router.navigate([''])\n  }\n  \n  getVideoUrl(){\n    return this.url\n  }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}